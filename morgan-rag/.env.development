# =============================================================================
# Morgan v2-0.0.1 Development Configuration
# =============================================================================
# Development-friendly configuration with debug features enabled
# Copy to .env for local development
#
# This configuration prioritizes:
# - Easy setup with minimal configuration
# - Verbose logging for debugging
# - Auto-reload for rapid iteration
# - Permissive security for local testing
# =============================================================================

# =============================================================================
# LLM Configuration
# =============================================================================

# Using local Ollama or development server
LLM_BASE_URL=http://localhost:11434/v1
LLM_API_KEY=dev-key-not-required-for-local-ollama
LLM_MODEL=llama3.1:8b
LLM_CHAT_MODEL=llama3.1:8b
LLM_EMBEDDING_MODEL=qwen3-embedding:latest

# For multi-host dev setups (optional)
MORGAN_EXTERNAL_LLM_API_BASE=http://localhost:11434/v1
MORGAN_EXTERNAL_LLM_API_KEY=dev-key
MORGAN_LLM_SERVICE_URL=http://localhost:8001

# =============================================================================
# Database Configuration
# =============================================================================

# Simple localhost setup
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=morgan_dev
POSTGRES_USER=morgan
POSTGRES_PASSWORD=morgan_dev_password

DATABASE_URL=postgresql://morgan:morgan_dev_password@localhost:5432/morgan_dev

# =============================================================================
# Redis Configuration
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# Smaller cache for development
MORGAN_CACHE_SIZE=100
MORGAN_CACHE_TTL=600

# =============================================================================
# Vector Database (Qdrant)
# =============================================================================

QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

QDRANT_DEFAULT_COLLECTION=morgan_knowledge_dev
QDRANT_MEMORY_COLLECTION=morgan_memory_dev
QDRANT_LOG_LEVEL=DEBUG

# =============================================================================
# Embedding Configuration
# =============================================================================

# Using local models for faster iteration
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_LOCAL_MODEL=all-MiniLM-L6-v2
EMBEDDING_FORCE_REMOTE=false
EMBEDDING_BATCH_SIZE=50
EMBEDDING_DEVICE=cpu
EMBEDDING_USE_INSTRUCTIONS=true

# =============================================================================
# Service URLs
# =============================================================================

MORGAN_TTS_SERVICE_URL=http://localhost:8002
MORGAN_STT_SERVICE_URL=http://localhost:8003

# =============================================================================
# System Configuration
# =============================================================================

MORGAN_DATA_DIR=./data
MORGAN_CONFIG_DIR=./config

# Verbose logging for development
MORGAN_LOG_LEVEL=DEBUG
MORGAN_DEBUG=true

MORGAN_MAX_CONTEXT=8192
MORGAN_MAX_RESPONSE_TOKENS=2048

# =============================================================================
# Performance Settings
# =============================================================================

# Lower resources for development
MORGAN_WORKERS=2
MORGAN_MAX_SEARCH_RESULTS=20
MORGAN_DEFAULT_SEARCH_RESULTS=5

# =============================================================================
# Security Settings - DEVELOPMENT ONLY!
# =============================================================================

# No API key required for dev
MORGAN_API_KEY=

# Allow all origins for dev
MORGAN_CORS_ORIGINS=*

# All features enabled for testing
MORGAN_ALLOW_FILE_UPLOAD=true
MORGAN_ALLOW_URL_INGESTION=true
MORGAN_ALLOW_CODE_EXECUTION=true

# Simple session secret for dev
MORGAN_SESSION_SECRET=dev-session-secret-not-for-production

# =============================================================================
# Web Interface & API Configuration
# =============================================================================

MORGAN_HOST=127.0.0.1
MORGAN_PORT=8080
MORGAN_API_PORT=8000
MORGAN_WEB_ENABLED=true

# Enable docs for development
MORGAN_DOCS_ENABLED=true

# Verbose request logging
MORGAN_REQUEST_LOGGING=true

# =============================================================================
# Document Ingestion Settings
# =============================================================================

MORGAN_CHUNK_SIZE=500
MORGAN_CHUNK_OVERLAP=100
MORGAN_MAX_FILE_SIZE=50
MORGAN_SUPPORTED_TYPES=pdf,docx,txt,md,html,py,js,ts,go,java,cpp,c,h,json,yaml,yml
MORGAN_SCRAPE_DEPTH=2
MORGAN_SCRAPE_DELAY=0.5
MORGAN_SCRAPE_TIMEOUT=15

# =============================================================================
# Memory & Learning
# =============================================================================

# Smaller limits for development
MORGAN_MEMORY_ENABLED=true
MORGAN_MEMORY_MAX_CONVERSATIONS=100
MORGAN_MEMORY_MAX_TURNS_PER_CONVERSATION=50
MORGAN_LEARNING_ENABLED=true
MORGAN_FEEDBACK_WEIGHT=0.1
MORGAN_KNOWLEDGE_GRAPH_ENABLED=true
MORGAN_ENTITY_EXTRACTION_ENABLED=true

# =============================================================================
# Feature Flags
# =============================================================================

MORGAN_ENABLE_MEMORY=true
MORGAN_ENABLE_TOOLS=true
MORGAN_ENABLE_PROMETHEUS=false

# =============================================================================
# Monitoring & Analytics
# =============================================================================

# Lightweight monitoring for dev
MORGAN_METRICS_ENABLED=false
MORGAN_METRICS_PORT=9000
MORGAN_HEALTH_CHECK_INTERVAL=60
MORGAN_ANALYTICS_RETENTION=7

# =============================================================================
# CUDA Configuration
# =============================================================================

# CPU only for most dev work (enable GPU if available)
CUDA_VISIBLE_DEVICES=-1
LD_LIBRARY_PATH=/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64
CUDA_LAUNCH_BLOCKING=1
TORCH_USE_CUDA_DSA=1

# =============================================================================
# HuggingFace Configuration
# =============================================================================

# Optional: Add your token for private models
HF_TOKEN=
HUGGINGFACE_HUB_TOKEN=
HF_HOME=./.cache/huggingface
HF_HUB_CACHE=./.cache/huggingface/hub
HF_DATASETS_CACHE=./.cache/huggingface/datasets
TRANSFORMERS_CACHE=./.cache/huggingface/transformers

# =============================================================================
# PyTorch Configuration
# =============================================================================

TORCH_HOME=./.cache/torch
XDG_CACHE_HOME=./.cache
SENTENCE_TRANSFORMERS_HOME=./.cache/torch/sentence_transformers

# =============================================================================
# Development Settings
# =============================================================================

# Development mode enabled
MORGAN_DEV_MODE=true

# Auto-reload on code changes
MORGAN_AUTO_RELOAD=true

PYTHONPATH=.
BEHIND_PROXY=false

# =============================================================================
# Monitoring Services
# =============================================================================

GRAFANA_PASSWORD=admin

# =============================================================================
# Environment Indicator
# =============================================================================

MORGAN_ENVIRONMENT=development
